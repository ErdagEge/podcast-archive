<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Açık Büfe Diyalog podcast archive. Browse all episodes, discover deep dives and cultural commentary.">
    <meta name="keywords" content="podcast, Açık Büfe Diyalog, archive, episodes, culture, commentary">
    <meta name="author" content="Ege Erdağ">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Episodes - Açık Büfe Diyalog Podcast Archive</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Navigation -->
    <header>
        <nav aria-label="Main site navigation">
            <h2 class="sr-only">Main Navigation</h2>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li class="current"><a href="archive.html">Episodes</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
        </nav>
    </header>

    <!-- Archive Content -->
    <section class="search">
      <label for="search-episodes">Search Episodes:</label>
      <input type="text" id="search-episodes" name="search-episodes" placeholder="Type to search..." />
    </section>
    <section class="hero">
        <h1>All Episodes</h1>
        <p>Browse the full collection of discussions, deep dives, and cultural commentary.</p>
    </section>

    <section class="featured-episodes" id="episodes-list">
      <!-- Episodes will be loaded here by JavaScript -->
    </section>
    <script>
    fetch('episodes.json')
      .then(res => res.json())
      .then(episodes => {
        const container = document.getElementById('episodes-list');
        container.innerHTML = '';
        // Sort episodes from new to old (latest first)
        episodes.slice().reverse().forEach(ep => {
          container.innerHTML += `
            <article class="episode">
              <h3>${ep.title || 'Untitled Episode'}</h3>
              <p>${ep.description || ''}</p>
              <iframe style="border-radius:12px" src="https://open.spotify.com/embed/episode/${ep.spotifyId}" width="100%" height="152" frameborder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
            </article>
          `;
        });
      })
      .catch(err => {
        document.getElementById('episodes-list').innerHTML = "<p>Could not load episodes.</p>";
        console.error(err);
      });
    </script>
    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Açık Büfe Diyalog. All rights reserved.</p>
    </footer>

</body>
</html>
